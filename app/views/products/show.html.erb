<article class="container">
  <div class="show"> 
    <div class="row">
      <div class="col-sm-9 col-md-9">
        <p>
          <%= 
          if (@product.image_url != nil)
          image_tag(@product.image_url, class: "img-responsive product img-zoom", height: '350', width: '350', data_zoom_images:@product.image_url) 
          end %>
      </div>
      <div class="col-sm-3 col-md-3">
        <p>
          <strong>Name:</strong>
          <%= @product.name %>
        </p>
        <p>
          <strong>Description:</strong>
          <%= @product.description %>
        </p>
        <p>
          <strong>Colour:</strong>
          <%= @product.colour %>
        </p>
        <p>
          <strong>Price:</strong>
          <%= number_to_currency(@product.price) %>
        </p>
        <%= form_with(url: '/payments/create') do |form| %>
          <%= hidden_field_tag(:product_id, @product.id) %>
          <%= render partial: "shared/stripe_checkout_button" %>
        <% end %>
        <p>Average Rating: 
          <div class="rated" id="average-rating" data-score="<%= @product.average_rating %>">
          </div>
        </p>
      </div>
    </div>
    <hr>
    
    <%= render partial: "new_comment" %>

    <%= render partial: "comments" %>
    
    <br>
    <%= will_paginate @comments, previous_label: "Older", next_label: "Newer"%>
    <br>
    <br>
    <h6 class="viewed"> Views:
      <span class="badge"> 
      </span>
    </h6>

    <%= link_to 'Edit', edit_product_path(@product) , class: "btn btn-default" %>
    <%= link_to 'Back', products_path, class: "btn btn-default" %>
  </div> 
  <br>  
</article>